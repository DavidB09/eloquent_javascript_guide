<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Eloquent JavaScript practice guide for chapter exercises and examples">
    <meta name="author" content="David Brunner">
    <meta name="keywords" content="JavaScript, Eloquent JavaScript, Chapter 19, Exercises">
    <meta name="description" content="Solutions and explanations for exercises in Chapter 19 of Eloquent JavaScript.">
    <title>Eloquent JavaScript - Chapter 19</title>

    <link href="../style.css" rel="stylesheet">
    <link href="../assets/css/prism.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet"> 
</head>

<body>

    <header>
        <h1>Chapter 19, "A Pixel Art Editor"</h1>

        <div class="header-navigation-links">
            <a href="../chap18/index.html" alt="Chapter 18 Link" title="Chapter 18">Previous</a>
            <a href="../chap20/index.html" alt="Chapter 20 Link" title="Chapter 20">Next</a>
        </div>
    </header>

    <main>

        <article class="container-exercise-problems">

            <section class="exercise-panel">
                <div class="exercise-header"><h2>Keyboard Bindings</h2></div>

                <div class="exercise-body">
                    <h3>Question</h3>

                    <p>Add keyboard shortcuts to the application. The first letter of a toolâ€™s name selects the tool, and <code>control-Z</code> or <code>command-Z</code> activates undo.</p>

                    <p>Do this by modifying the <code>PixelEditor</code> component. Add a <code>tabIndex</code> property of 0 to the wrapping <code>&lt;div></code> element so that it can receive keyboard focus. Note that the property corresponding to the <code>tabindex</code> attribute is called <code>tabIndex</code>, with a capital I, and our <code>elt</code> function expects property names. Register the key event handlers directly on that element. This means you have to click, touch, or tab to the application before you can interact with it with the keyboard.</p>

                    <p>Remember that keyboard events have <code>ctrlKey</code> and <code>metaKey</code> (for the <code>COMMAND</code> key on Mac) properties that you can use to see whether those keys are held down.</p>
                </div>

                <div class="exercise-body">
                    <h3>Personal Answer</h3>

                    <pre id="code1" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">class PixelEditor {
    constructor(state, config) {
        let {tools, controls, dispatch} = config;
        this.state = state;

        this.canvas = new PictureCanvas(state.picture, pos => {
            let tool = tools[this.state.tool];
            let onMove = tool(pos, this.state, dispatch);
            if (onMove) {
                return pos => onMove(pos, this.state, dispatch);
            }
        });
        this.controls = controls.map(Control => new Control(state, config));
        this.dom = elt("div", 
                        {
                            tabIndex: 0, 
                            onkeydown: event => {
                                    if ((event.ctrlKey || event.metaKey) && event.key == 'z')
                                        dispatch({undo: true}); 
                                    else if (!event.ctrlKey && !event.metaKey && !event.altKey) {
                                        for (let toolName in tools) {
                                            if (event.key == toolName[0]) 
                                                dispatch({tool: toolName}); 
                                        }
                                    }
                            }
                        }, 
                        this.canvas.dom, elt("br"), ...this.controls.reduce((a, c) => a.concat(" ", c.dom), []));
    }
    syncState(state) {
        this.state = state;
        this.canvas.syncState(state.picture);
        for (let ctrl of this.controls) ctrl.syncState(state);
    }
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code1" data-line="1">Line 1</code> defines the <code>PixelEditor</code> object.</p>

                    <p><code class="desc desc-code1" data-line="2">Line 2</code> defines the <code>constructor</code> method for <code>PixelEditor</code> that receives a <code>state</code> and <code>config</code> objects as the parameters.</p>

                    <p><code class="desc desc-code1" data-line="3">Line 3</code> destructors the <code>config</code> object into the <code>tools</code> object, <code>controls</code> array, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code1" data-line="4">Line 4</code> assigns the <code>state</code> property of the current object to the <code>state</code> parameter.</p>

                    <p><code class="desc desc-code1" data-line="6">Line 6</code> assigns the <code>canvas</code> property of the current object to a <code>PictureCanvas</code> object that receives the current <code>picture</code> property of <code>state</code> and a function that defines the actions for whenever a tool is used.</p>

                    <p><code class="desc desc-code1" data-line="7">Line 7</code> creates a new variable <code>tool</code> and assigns it to the function corresponding with the current tool selected in the editor.</p>

                    <p><code class="desc desc-code1" data-line="8">Line 8</code> creates a new variable <code>onMove</code> and assigns it to the return value of calling the <code>tool</code> function with the current position of the mouse, state, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code1" data-line="9">Line 9</code> checks whether the tool was correctly used, meaning <code>onMove</code>returned a valid value.</p>

                    <p>If true, <code class="desc desc-code1" data-line="10">Line 10</code> returns an arrow function that calls the function returned by <code>onMove</code> with the current position of the mouse, state, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code1" data-line="13">Line 13</code> assigns the <code>controls</code> property of the current object to the result of iterating over each object within <code>controls</code> and converting it into a <code>Control</code> object with the current <code>state</code> and <code>config</code> values.</p>

                    <p><code class="desc desc-code1" data-line="14">Line 14</code> assigns the <code>dom</code> property of the current object to the result of calling the <code>elt</code> function to create a <code>&lt;div></code> element.</p>

                    <p><code class="desc desc-code1" data-line="16">Line 16</code> assigns the <code>tabIndex</code> property of the object to 0.</p>

                    <p><code class="desc desc-code1" data-line="17">Line 17</code> assigns the <code>onkeydown</code> property of the object to a arrow function that defines the actions for whenever a keydown event occurs.</p>

                    <p><code class="desc desc-code1" data-line="18">Line 18</code> checks whether the control or meta key, along with the z character, is being pressed by utilizing the <code>event</code> object.</p>

                    <p>If true, <code class="desc desc-code1" data-line="19">Line 19</code> calls the <code>dispatch</code> function with an object whose <code>undo</code> property is true, performing an undo action within the editor.</p>

                    <p>Else, <code class="desc desc-code1" data-line="20">Line 20</code> checks whether neither the control, meta, nor the alt key is being pressed.</p>

                    <p>If true, <code class="desc desc-code1" data-line="21">Line 21</code> iterates through each <code>toolName</code> value within <code>tools</code>.</p>

                    <p><code class="desc desc-code1" data-line="22">Line 22</code> checks whether the character of the key being pressed is equal to the first character of <code>toolName</code>.</p>
                    
                    <p>If true, <code class="desc desc-code1" data-line="23">Line 23</code> calls the <code>dispatch</code> function with an object whose <code>tool</code> property is assigned to the current <code>toolName</code>.</p>

                    <p><code class="desc desc-code1" data-line="28">Line 28</code> continues the parameters for the <code>elt</code> function, creating the <code>dom</code> property of <code>this.canvas</code>, a <code>&lt;br></code> element, and all of the values within <code>this.controls</code> as child elements to the <code>&lt;div></code> element.</p>

                    <p><code class="desc desc-code1" data-line="30">Line 30</code> defines the <code>syncState</code> method for <code>PixelEditor</code> that receives a <code>state</code> object as the parameter.</p>

                    <p><code class="desc desc-code1" data-line="31">Line 31</code> updates the <code>state</code> property for the current object to the <code>state</code> parameter.</p>

                    <p><code class="desc desc-code1" data-line="32">Line 32</code> calls the <code>syncState</code> method of <code>this.canvas</code> with the updated <code>picture</code> property of <code>state</code>.</p>

                    <p><code class="desc desc-code1" data-line="33">Line 33</code> iterates through each <code>ctrl</code> object of <code>this.controls</code> and calls their <code>syncState</code> method to update their values.</p>
                </div>

                <div class="exercise-body">
                    <h3>Author's Answer</h3>

                    <pre id="code2" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">class PixelEditor {
    constructor(state, config) {
        let {tools, controls, dispatch} = config;
        this.state = state;

        this.canvas = new PictureCanvas(state.picture, pos => {
            let tool = tools[this.state.tool];
            let onMove = tool(pos, this.state, dispatch);
            if (onMove) {
                return pos => onMove(pos, this.state, dispatch);
            }
        });
        this.controls = controls.map(Control => new Control(state, config));
        this.dom = elt("div", {
            tabIndex: 0,
            onkeydown: event => this.keyDown(event, config)
        }, this.canvas.dom, elt("br"), ...this.controls.reduce((a, c) => a.concat(" ", c.dom), []));
    }
    keyDown(event, config) {
        if (event.key == "z" && (event.ctrlKey || event.metaKey)) {
            event.preventDefault();
            config.dispatch({undo: true});
        } else if (!event.ctrlKey && !event.metaKey && !event.altKey) {
            for (let tool of Object.keys(config.tools)) {
                if (tool[0] == event.key) {
                    event.preventDefault();
                    config.dispatch({tool});
                    return;
                }
            }
        }
    }
    syncState(state) {
        this.state = state;
        this.canvas.syncState(state.picture);
        for (let ctrl of this.controls) ctrl.syncState(state);
    }
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code2" data-line="1">Line 1</code> defines the <code>PixelEditor</code> object.</p>

                    <p><code class="desc desc-code2" data-line="2">Line 2</code> defines the <code>constructor</code> method for <code>PixelEditor</code> that receives a <code>state</code> and <code>config</code> objects as the parameters.</p>

                    <p><code class="desc desc-code2" data-line="3">Line 3</code> destructors the <code>config</code> object into the <code>tools</code> object, <code>controls</code> array, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code2" data-line="4">Line 4</code> assigns the <code>state</code> property of the current object to the <code>state</code> parameter.</p>

                    <p><code class="desc desc-code2" data-line="6">Line 6</code> assigns the <code>canvas</code> property of the current object to a <code>PictureCanvas</code> object that receives the current <code>picture</code> property of <code>state</code> and a function that defines the actions for whenever a tool is used.</p>

                    <p><code class="desc desc-code2" data-line="7">Line 7</code> creates a new variable <code>tool</code> and assigns it to the function corresponding with the current tool selected in the editor.</p>

                    <p><code class="desc desc-code2" data-line="8">Line 8</code> creates a new variable <code>onMove</code> and assigns it to the return value of calling the <code>tool</code> function with the current position of the mouse, state, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code2" data-line="9">Line 9</code> checks whether the tool was correctly used, meaning <code>onMove</code>returned a valid value.</p>

                    <p>If true, <code class="desc desc-code2" data-line="10">Line 10</code> returns an arrow function that calls the function returned by <code>onMove</code> with the current position of the mouse, state, and <code>dispatch</code> function.</p>

                    <p><code class="desc desc-code2" data-line="13">Line 13</code> assigns the <code>controls</code> property of the current object to the result of iterating over each object within <code>controls</code> and converting it into a <code>Control</code> object with the current <code>state</code> and <code>config</code> values.</p>

                    <p><code class="desc desc-code2" data-line="14">Line 14</code> assigns the <code>dom</code> property of the current object to the result of calling the <code>elt</code> function to create a <code>&lt;div></code> element.</p>

                    <p><code class="desc desc-code2" data-line="15">Line 15</code> assigns the <code>tabIndex</code> property of the object to 0.</p>

                    <p><code class="desc desc-code2" data-line="16">Line 16</code> assigns the <code>onkeydown</code> property of the object to a arrow function that calls the <code>keyDown</code> method with the <code>event</code> and <code>config</code> objects whenever a keydown event occurs.</p>

                    <p><code class="desc desc-code2" data-line="17">Line 17</code> adds the <code>dom</code> property of <code>this.canvas</code>, a <code>&lt;br></code> element, and all of the values within <code>this.controls</code> as child elements to the <code>&lt;div></code> element.</p>

                    <p><code class="desc desc-code2" data-line="19">Line 19</code> defines the <code>keyDown</code> method for <code>PixelEditor</code> that receives <code>event</code> and <code>config</code> objects as the parameters.</p>

                    <p><code class="desc desc-code2" data-line="20">Line 20</code> checks whether the z character, along with the control or meta key, is being pressed by utilizing the <code>event</code> object.</p>

                    <p>If true, <code class="desc desc-code2" data-line="21">Line 21</code> calls the <code>preventDefault</code> method of <code>event</code> to prevent any unwanted actions by the browser.</p>

                    <p><code class="desc desc-code2" data-line="22">Line 22</code> calls the <code>dispatch</code> method of <code>config</code> with an object whose <code>undo</code> property is true, performing an undo action within the editor.</p>

                    <p>Else, <code class="desc desc-code2" data-line="23">Line 23</code> checks whether neither the control, meta, nor the alt key is being pressed.</p>

                    <p>If true, <code class="desc desc-code2" data-line="24">Line 24</code> iterates through each <code>Object.keys</code> value within the <code>tools</code> property of <code>config</code>.</p>

                    <p><code class="desc desc-code2" data-line="25">Line 25</code> checks whether the character of the key being pressed is equal to the first character of <code>tool</code>.</p>

                    <p>If true, <code class="desc desc-code2" data-line="26">Line 26</code> calls the <code>preventDefault</code> method of <code>event</code> to prevent any unwanted actions by the browser.</p>
                    
                    <p><code class="desc desc-code2" data-line="27">Line 27</code> calls the <code>dispatch</code> function with an object whose <code>tool</code> property is assigned to the current <code>tool</code>.</p>

                    <p><code class="desc desc-code2" data-line="28">Line 28</code> returns from the function.</p>

                    <p><code class="desc desc-code2" data-line="33">Line 33</code> defines the <code>syncState</code> method for <code>PixelEditor</code> that receives a <code>state</code> object as the parameter.</p>

                    <p><code class="desc desc-code2" data-line="34">Line 34</code> updates the <code>state</code> property for the current object to the <code>state</code> parameter.</p>

                    <p><code class="desc desc-code2" data-line="35">Line 35</code> calls the <code>syncState</code> method of <code>this.canvas</code> with the updated <code>picture</code> property of <code>state</code>.</p>

                    <p><code class="desc desc-code2" data-line="36">Line 36</code> iterates through each <code>ctrl</code> object of <code>this.controls</code> and calls their <code>syncState</code> method to update their values.</p>
                </div>

                <button class="exercise-body exercise-close">â‡®</button>
            </section>

            <section class="exercise-panel">
                <div class="exercise-header"><h2>Efficient Drawing</h2></div>

                <div class="exercise-body">
                    <h3>Question</h3>

                    <p>During drawing, the majority of work that our application does happens in <code>drawPicture</code>. Creating a new state and updating the rest of the DOM isnâ€™t very expensive, but repainting all the pixels on the canvas is quite a bit of work.</p>

                    <p>Find a way to make the <code>syncState</code> method of <code>PictureCanvas</code> faster by redrawing only the pixels that actually changed.</p>

                    <p>Remember that <code>drawPicture</code> is also used by the save button, so if you change it, either make sure the changes donâ€™t break the old use or create a new version with a different name.</p>

                    <p>Also note that changing the size of a <code>&lt;canvas></code> element, by setting its <code>width</code> or <code>height</code> properties, clears it, making it entirely transparent again.</p> 
                </div>

                <div class="exercise-body">
                    <h3>Personal Answer</h3>

                    <pre id="code3" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">PictureCanvas.prototype.syncState = function(newPicture) {
    if (this.picture == newPicture) return;
    drawPicture(newPicture, this.dom, scale, this.picture);
    this.picture = newPicture; 
};

function drawPicture(newPicture, canvas, scale, oldPicture) {
    if (newPicture.width != oldPicture?.width) canvas.width = newPicture.width * scale;
    if (newPicture.height != oldPicture?.height) canvas.height = newPicture.height * scale;
    let cx = canvas.getContext("2d");

    for (let y = 0; y < newPicture.height; y++) {
        for (let x = 0; x < newPicture.width; x++) {
            let currNewPixel = newPicture.pixel(x, y); 
            if (currNewPixel != oldPicture?.pixel(x, y)) {
                cx.fillStyle = currNewPixel;
                cx.fillRect(x * scale, y * scale, scale, scale);
            }
        }
    }
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code3" data-line="1">Line 1</code> defines the <code>syncState</code> method on the <code>prototype</code> of <code>PictureCanvas</code> as a function that receives a <code>newPicture</code> object.</p>

                    <p><code class="desc desc-code3" data-line="2">Line 2</code> checks whether the <code>newPicture</code> object from the parameter is equal to the <code>picture</code> property of the current object, and returns if true.</p>

                    <p><code class="desc desc-code3" data-line="3">Line 3</code> calls the <code>drawPicture</code> function with the <code>newPicture</code>, <code>this.dom</code>, <code>scale</code>, and <code>this.picture</code> value to show the updated picture on the editor.</p>

                    <p><code class="desc desc-code3" data-line="4">Line 4</code> updates the <code>picture</code> property of the current object to the <code>newPicture</code> value.</p>

                    <p><code class="desc desc-code3" data-line="7">Line 7</code> defines the <code>drawPicture</code> function that receives <code>newPicture</code>, <code>canvas</code>, <code>scale</code>, and <code>oldPicture</code> values as the parameters.</p>

                    <p><code class="desc desc-code3" data-line="8">Line 8</code> checks whether the <code>width</code> properties of <code>newPicture</code> and <code>oldPicture</code> are not equal, updating the <code>width</code> of <code>canvas</code> to the <code>width</code> property of <code>newPicture</code> multiplied by <code>scale</code> if true.</p>

                    <p><code class="desc desc-code3" data-line="9">Line 9</code> checks whether the <code>height</code> properties of <code>newPicture</code> and <code>oldPicture</code> are not equal, updating the <code>height</code> of <code>canvas</code> to the <code>height</code> property of <code>newPicture</code> multiplied by <code>scale</code> if true.</p>

                    <p><code class="desc desc-code3" data-line="10">Line 10</code> assigns <code>cx</code> to calling the <code>getContext</code> method of <code>canvas</code> with <code>"2d"</code>, allow drawing to occur.</p>

                    <p><code class="desc desc-code3" data-line="12">Line 12</code> uses a for loop to iterate until the <code>y</code> value, initialized to 0, is equal to the <code>height</code> property of <code>newPicture</code>.</p>

                    <p><code class="desc desc-code3" data-line="13">Line 13</code> uses a for loop to iterate until the <code>x</code> value, initialized to 0, is equal to the <code>width</code> property of <code>newPicture</code>.</p>

                    <p><code class="desc desc-code3" data-line="14">Line 14</code> assigns <code>currNewPixel</code> to the color value of the current pixel within <code>newPicture</code> by calling the <code>pixel</code> method with the current <code>x</code> and <code>y</code> positions.</p>

                    <p><code class="desc desc-code3" data-line="15">Line 15</code> checks whether the color represented by <code>currNewPixel</code> is not equal to the color value of the current pixel within <code>oldPicture</code> by using the same method.</p>

                    <p>If true, <code class="desc desc-code3" data-line="16">Line 16</code> updates the <code>fillStyle</code> property of <code>cx</code> to the <code>currNewPixel</code> value.</p>

                    <p><code class="desc desc-code3" data-line="17">Line 17</code> calls the <code>fillRect</code> property of <code>cx</code> with the coordinates set to their respective <code>x</code> and <code>y</code> values multiplied by <code>scale</code>, and the width and height both set to <code>scale</code>.</p>
                </div>

                <div class="exercise-body">
                    <h3>Author's Answer</h3>

                    <pre id="code4" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">PictureCanvas.prototype.syncState = function(picture) {
    if (this.picture == picture) return;
    drawPicture(picture, this.dom, scale, this.picture);
    this.picture = picture;
}

function drawPicture(picture, canvas, scale, previous) {
    if (previous == null || previous.width != picture.width || previous.height != picture.height) {
        canvas.width = picture.width * scale;
        canvas.height = picture.height * scale;
        previous = null;
    }

    let cx = canvas.getContext("2d");
    for (let y = 0; y < picture.height; y++) {
        for (let x = 0; x < picture.width; x++) {
            let color = picture.pixel(x, y);
            if (previous == null || previous.pixel(x, y) != color) {
                cx.fillStyle = color;
                cx.fillRect(x * scale, y * scale, scale, scale);
            }
        }
    }
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code4" data-line="1">Line 1</code> defines the <code>syncState</code> method on the <code>prototype</code> of <code>PictureCanvas</code> as a function that receives a <code>picture</code> object.</p>

                    <p><code class="desc desc-code4" data-line="2">Line 2</code> checks whether the <code>picture</code> object from the parameter is equal to the <code>picture</code> property of the current object, and returns if true.</p>

                    <p><code class="desc desc-code4" data-line="3">Line 3</code> calls the <code>drawPicture</code> function with the <code>picture</code>, <code>this.dom</code>, <code>scale</code>, and <code>this.picture</code> value to show the updated picture on the editor.</p>

                    <p><code class="desc desc-code4" data-line="4">Line 4</code> updates the <code>picture</code> property of the current object to the <code>picture</code> value.</p>

                    <p><code class="desc desc-code4" data-line="7">Line 7</code> defines the <code>drawPicture</code> function that receives <code>picture</code>, <code>canvas</code>, <code>scale</code>, and <code>previous</code> values as the parameters.</p>

                    <p><code class="desc desc-code4" data-line="8">Line 8</code> checks whether <code>previous</code> is equal to <code>null</code>, the <code>width</code> properties of <code>previous</code> and <code>picture</code> are not equal, or the <code>height</code> properties of <code>previous</code> and <code>picture</code> are not equal.</p>

                    <p>If true, <code class="desc desc-code4" data-line="9">Line 9</code> updates the <code>width</code> of <code>canvas</code> to the <code>width</code> property of <code>picture</code> multiplied by <code>scale</code>.</p>

                    <p><code class="desc desc-code4" data-line="10">Line 10</code> updates the <code>height</code> of <code>canvas</code> to the <code>height</code> property of <code>picture</code> multiplied by <code>scale</code>.</p>

                    <p><code class="desc desc-code4" data-line="11">Line 11</code> sets <code>previous</code> to <code>null</code>.</p>

                    <p><code class="desc desc-code4" data-line="14">Line 14</code> assigns <code>cx</code> to calling the <code>getContext</code> method of <code>canvas</code> with <code>"2d"</code>, allow drawing to occur.</p>

                    <p><code class="desc desc-code4" data-line="15">Line 15</code> uses a for loop to iterate until the <code>y</code> value, initialized to 0, is equal to the <code>height</code> property of <code>picture</code>.</p>

                    <p><code class="desc desc-code4" data-line="16">Line 16</code> uses a for loop to iterate until the <code>x</code> value, initialized to 0, is equal to the <code>width</code> property of <code>picture</code>.</p>

                    <p><code class="desc desc-code4" data-line="17">Line 17</code> assigns <code>color</code> to the color value of the current pixel within <code>picture</code> by calling the <code>pixel</code> method with the current <code>x</code> and <code>y</code> positions.</p>

                    <p><code class="desc desc-code4" data-line="18">Line 18</code> checks whether <code>previous</code> is equal to <code>null</code> or <code>color</code> is not equal to the color value of the current pixel within <code>previous</code> by using the same method.</p>

                    <p>If true, <code class="desc desc-code4" data-line="19">Line 19</code> updates the <code>fillStyle</code> property of <code>cx</code> to the <code>color</code> value.</p>

                    <p><code class="desc desc-code4" data-line="20">Line 20</code> calls the <code>fillRect</code> property of <code>cx</code> with the coordinates set to their respective <code>x</code> and <code>y</code> values multiplied by <code>scale</code>, and the width and height both set to <code>scale</code>.</p>
                </div>

                <button class="exercise-body exercise-close">â‡®</button>
            </section>

            <section class="exercise-panel">
                <div class="exercise-header"><h2>Circles</h2></div>

                <div class="exercise-body">
                    <h3>Question</h3>

                    <p>Define a tool called <code>circle</code> that draws a filled circle when you drag. The center of the circle lies at the point where the drag or touch gesture starts, and its radius is determined by the distance dragged.</p> 
                </div>

                <div class="exercise-body">
                    <h3>Personal Answer</h3>

                    <pre id="code5" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">function circle(center, state, dispatch) {
    function drawCircle(endpoint) {
        let radius = Math.sqrt(Math.pow(endpoint.x - center.x, 2) + Math.pow(endpoint.y - center.y, 2)); 

        let drawn = [];
        for (let y = center.y - Math.floor(radius); y <= center.y + Math.ceil(radius); y++) {
            for (let x = center.x - Math.floor(radius); x <= center.x + Math.ceil(radius); x++) {
                if (y < 0 || x < 0 || x >= state.picture.width || y >= state.picture.height) continue; 
                if (Math.sqrt(Math.pow(x - center.x, 2) + Math.pow(y - center.y, 2)) <= radius) {
                    drawn.push({x, y, color: state.color});
                }
            }
        }

        dispatch({picture: state.picture.draw(drawn)});
    }
    drawCircle(center);
    return drawCircle;
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code5" data-line="1">Line 1</code> defines the <code>circle</code> function that receives <code>center</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code5" data-line="2">Line 2</code> defines the <code>drawCircle</code> function that receives <code>endpoint</code> as the parameter.</p>

                    <p><code class="desc desc-code5" data-line="3">Line 3</code> creates the <code>radius</code> variable and sets it to the distance between the <code>endpoint</code> and <code>center</code> coordinates.</p>

                    <p><code class="desc desc-code5" data-line="5">Line 5</code> initializes <code>drawn</code> to an empty array.</p>

                    <p><code class="desc desc-code5" data-line="6">Line 6</code> iterates from the y coordinate at the bottom of the circle, calculated by subtracting the rounded down value of <code>radius</code> from <code>center.y</code>, to the y coordinate at the top of the circle, calculated by adding the rounded up value of <code>radius</code> to <code>center.y</code>.</p>

                    <p><code class="desc desc-code5" data-line="7">Line 7</code> iterates from the x coordinate at the left of the circle, calculated by subtracting the rounded down value of <code>radius</code> from <code>center.x</code>, to the x coordinate at the right of the circle, calculated by adding the rounded up value of <code>radius</code> to <code>center.x</code>.</p>

                    <p><code class="desc desc-code5" data-line="8">Line 8</code> checks whether the current coordinates are outside the borders of the editing tool, continuing to the next iteration if true.</p>

                    <p><code class="desc desc-code5" data-line="9">Line 9</code> checks whether the distance between the current coordinates and those from the <code>center</code> is less than or equal to the <code>radius</code> value.</p>

                    <p>If true, <code class="desc desc-code5" data-line="10">Line 10</code> pushes an object containing the current <code>x</code>, <code>y</code>, and <code>state.color</code> values to <code>drawn</code>.</p>

                    <p><code class="desc desc-code5" data-line="15">Line 15</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is equal to calling the <code>draw</code> method with the new pixels in the <code>drawn</code> array.</p>

                    <p><code class="desc desc-code5" data-line="17">Line 17</code> calls the <code>drawCircle</code> function with the current <code>center</code> value.</p>

                    <p><code class="desc desc-code5" data-line="18">Line 18</code> returns the <code>drawCircle</code> function.</p>
                </div>

                <div class="exercise-body">
                    <h3>Author's Answer</h3>

                    <pre id="code6" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">function circle(pos, state, dispatch) {
    function drawCircle(to) {
        let radius = Math.sqrt(Math.pow(to.x - pos.x, 2) + Math.pow(to.y - pos.y, 2));
        let radiusC = Math.ceil(radius);
        let drawn = [];
        for (let dy = -radiusC; dy <= radiusC; dy++) {
            for (let dx = -radiusC; dx <= radiusC; dx++) {
                let dist = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
                if (dist > radius) continue;
                let y = pos.y + dy, x = pos.x + dx;
                if (y < 0 || y >= state.picture.height || x < 0 || x >= state.picture.width) continue;
                drawn.push({x, y, color: state.color});
            }
        }
        dispatch({picture: state.picture.draw(drawn)});
    }
    drawCircle(pos);
    return drawCircle;
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code6" data-line="1">Line 1</code> defines the <code>circle</code> function that receives <code>pos</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code6" data-line="2">Line 2</code> defines the <code>drawCircle</code> function that receives <code>to</code> as the parameter.</p>

                    <p><code class="desc desc-code6" data-line="3">Line 3</code> creates the <code>radius</code> variable and sets it to the distance between the <code>to</code> and <code>pos</code> coordinates.</p>

                    <p><code class="desc desc-code6" data-line="4">Line 4</code> creates the <code>radiusC</code> variable and sets it to the rounded up value of <code>radius</code> using <code>Math.ceil</code>.</p>

                    <p><code class="desc desc-code6" data-line="5">Line 5</code> initializes <code>drawn</code> to an empty array.</p>

                    <p><code class="desc desc-code6" data-line="6">Line 6</code> iterates from the negative value of <code>radiusC</code> to the positive value of <code>radiusC</code> using <code>dy</code>.</p>

                    <p><code class="desc desc-code6" data-line="7">Line 7</code> iterates from the negative value of <code>radiusC</code> to the positive value of <code>radiusC</code> using <code>dx</code>.</p>

                    <p><code class="desc desc-code6" data-line="8">Line 8</code> creates the <code>dist</code> variable and sets it to distance of the current <code>dx</code> and <code>dy</code> values.</p>

                    <p><code class="desc desc-code6" data-line="9">Line 9</code> checks whether the <code>dist</code> value is greater than <code>radius</code>, continuing to the next iteration if true.</p>

                    <p><code class="desc desc-code6" data-line="10">Line 10</code> creates the <code>y</code> and <code>x</code> variables, setting them to the results of adding <code>dy</code> and <code>pos.y</code> and <code>dx</code> and <code>pos.x</code> respectively.</p>

                    <p><code class="desc desc-code6" data-line="11">Line 11</code> checks whether the current coordinates are outside the borders of the editing tool, continuing to the next iteration if true.</p>

                    <p><code class="desc desc-code6" data-line="12">Line 12</code> pushes an object containing the current <code>x</code>, <code>y</code>, and <code>state.color</code> values to <code>drawn</code>.</p>

                    <p><code class="desc desc-code6" data-line="15">Line 15</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is equal to calling the <code>draw</code> method with the new pixels in the <code>drawn</code> array.</p>

                    <p><code class="desc desc-code6" data-line="17">Line 17</code> calls the <code>drawCircle</code> function with the current <code>center</code> value.</p>

                    <p><code class="desc desc-code6" data-line="18">Line 18</code> returns the <code>drawCircle</code> function.</p>
                </div>

                <button class="exercise-body exercise-close">â‡®</button>
            </section>

            <section class="exercise-panel">
                <div class="exercise-header"><h2>Proper Lines</h2></div>

                <div class="exercise-body">
                    <h3>Question</h3>

                    <p>On most browsers, when you select the <code>draw</code> tool and quickly drag across the picture, you donâ€™t get a closed line. Rather, you get dots with gaps between them because the <code>"mousemove"</code> or <code>"touchmove"</code> events did not fire quickly enough to hit every pixel.</p>

                    <p>Improve the <code>draw</code> tool to make it draw a full line. This means you have to make the motion handler function remember the previous position and connect that to the current one.</p>

                    <p>To do this, since the pixels can be an arbitrary distance apart, youâ€™ll have to write a general line drawing function.</p>

                    <p>A line between two pixels is a connected chain of pixels, as straight as possible, going from the start to the end. Diagonally adjacent pixels count as a connected.</p> 

                    <p>Finally, if we have code that draws a line between two arbitrary points, we might as well use it to also define a <code>line</code> tool, which draws a straight line between the start and end of a drag.</p>
                </div>

                <div class="exercise-body">
                    <h3>Personal Answer</h3>

                    <pre id="code7" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">function draw(pos, state, dispatch) {
    let oldPos = pos; 
    function drawPixel(coord, state) {
        dispatch({picture: state.picture.draw(findLine(oldPos, coord, state.color))});
        oldPos = coord; 
    }
    drawPixel(pos, state);
    return drawPixel;
}

function findLine(start, end, color) {
    const move = {
        'right': {x: 1}, 
        'left': {x: -1}, 
        'up': {y: -1}, 
        'down': {y: 1}, 
        'equal': {x: 0, y: 0}, 
    };

    const findAngle = (opp, adj) => {
        let tanAngle = Math.atan(opp / adj) * (180 / Math.PI); 
        return !isFinite(tanAngle) ? 0 : tanAngle 
    }; 

    let mainAngle = findAngle(Math.abs(end.y - start.y), Math.abs(end.x - start.x)); 

    let linePoints = [{point: start, line: []}]; 
    for (let i = 0; i < linePoints.length; i++) {
        let {point, line} = linePoints[i]; 

        let xMove = point.x < end.x ? 'right' : point.x > end.x ? 'left' : 'equal'; 
        let yMove = point.y < end.y ? 'down' : point.y > end.y ? 'up' : 'equal';

        let newPoint =
            [{x: point.x + move[xMove].x, y: point.y + move[yMove].y, color},
             {x: point.x + move[xMove].x, y: point.y, color},
             {x: point.x, y: point.y + move[yMove].y, color}]
            .reduce((init, curr) => {
                let currAngle = findAngle(Math.abs(curr.y - start.y), Math.abs(curr.x - start.x));
                let initAngle = findAngle(Math.abs(init.y - start.y), Math.abs(init.x - start.x));

                return Math.abs(currAngle - mainAngle) < Math.abs(initAngle - mainAngle) ? curr : init;
            });

        if (newPoint.x == end.x && newPoint.y == end.y) return line.concat(newPoint);
        linePoints.push({point: newPoint, line: line.concat(newPoint)});
    }
}

function line(pos, state, dispatch) {
    function drawLine(endpoint) {
        let drawn = [{...pos, color: state.color}, ...findLine(pos, endpoint, state.color)]; 
        dispatch({picture: state.picture.draw(drawn)});
    }
    drawLine(pos);
    return drawLine;
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code7" data-line="1">Line 1</code> defines the <code>draw</code> function that receives <code>pos</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code7" data-line="2">Line 2</code> initializes <code>oldPos</code> to the <code>pos</code> object from the parameter.</p>

                    <p><code class="desc desc-code7" data-line="3">Line 3</code> defines the <code>drawPixel</code> function that receives <code>coord</code> and <code>state</code> objects as parameters.</p>

                    <p><code class="desc desc-code7" data-line="4">Line 4</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is set to the result of calling the <code>draw</code> method from <code>state.picture</code> with the return value of <code>findLine</code> called with <code>oldPos</code>, <code>coord</code>, and <code>state.color</code>.</p>

                    <p><code class="desc desc-code7" data-line="5">Line 5</code> updates <code>oldPos</code> to the <code>coord</code> object from the parameter.</p>

                    <p><code class="desc desc-code7" data-line="7">Line 7</code> calls the <code>drawPixel</code> function with the <code>pos</code> and <code>states</code> objects.</p>

                    <p><code class="desc desc-code7" data-line="8">Line 8</code> returns the <code>drawPixel</code> function.</p>

                    <p><code class="desc desc-code7" data-line="11">Line 11</code> defines the <code>findLine</code> function that receives <code>start</code>, <code>end</code>, and <code>color</code> as parameters.</p>

                    <p><code class="desc desc-code7" data-line="12-18">Line 12 - Line 18</code> initializes the constant <code>move</code> to an object with certain directions corresponding to the change in coordinates, i.e. increasing the x coordinate results in a movement to the right.</p>

                    <p><code class="desc desc-code7" data-line="20">Line 20</code> initializes the constant <code>findAngle</code> to helper function that receives <code>opp</code> and <code>adj</code> side lengths before returning an angle of their tangent.</p>

                    <p><code class="desc desc-code7" data-line="21">Line 21</code> sets <code>tanAngle</code> to the inverse tangent of <code>opp</code> divided by <code>adj</code>, using <code>Math.tan</code>, converted into degrees using 180 divided by <code>Math.PI</code>.</p>

                    <p><code class="desc desc-code7" data-line="22">Line 22</code> checks whether the <code>tanAngle</code> value is not finite using the <code>isFinite</code> function, returning 0 if true or just <code>tanAngle</code> if false.</p>

                    <p><code class="desc desc-code7" data-line="25">Line 25</code> returns the current angle of the line created by the start and end points by calling <code>mainAngle</code> with the differences between the y coordinates and the x coordinates.</p>

                    <p><code class="desc desc-code7" data-line="27">Line 27</code> initializes <code>linePoints</code> to an array that contains an object with property <code>point</code> initialized to <code>start</code> and <code>line</code> to an empty array.</p>

                    <p><code class="desc desc-code7" data-line="28">Line 28</code> iterates through each value within <code>linePoints</code>, basically until an entire line is created since more objects will be added during some iterations.</p>

                    <p><code class="desc desc-code7" data-line="29">Line 29</code> destructors the current object within <code>linePoints</code> into the <code>point</code> object and <code>line</code> array.</p>

                    <p><code class="desc desc-code7" data-line="31">Line 31</code> creates the variable <code>xMove</code>, setting it to <code>'right'</code> if <code>point.x</code> is less than <code>end.x</code>, <code>'left'</code> if <code>point.x</code> is greater than <code>end.x</code>, or <code>'equal'</code> if equal.</p>

                    <p><code class="desc desc-code7" data-line="32">Line 32</code> creates the variable <code>yMove</code>, setting it to <code>'down'</code> if <code>point.y</code> is less than <code>end.y</code>, <code>'up'</code> if <code>point.y</code> is greater than <code>end.y</code>, or <code>'equal'</code> if equal.</p>

                    <p><code class="desc desc-code7" data-line="34">Line 34</code> creates the <code>newPoint</code> variable and sets it to the result of iterating over three possible movements and finding the next point with the angle closest to <code>mainAngle</code>.</p>

                    <p><code class="desc desc-code7" data-line="35">Line 35</code> represents the movement of following the generated <code>xMove</code> and <code>yMove</code> values, bringing the line closer to the target.</p>

                    <p><code class="desc desc-code7" data-line="36">Line 36</code> represents the movement of following the generated <code>xMove</code> but staying at the same <code>y</code> coordinate, bringing the line closer to x coordinate of the target.</p>

                    <p><code class="desc desc-code7" data-line="37">Line 37</code> represents the movement of following the generated <code>yMove</code> but staying at the same <code>x</code> coordinate, bringing the line closer to y coordinate of the target.</p>

                    <p><code class="desc desc-code7" data-line="37">Line 37</code> initiates a <code>reduce</code> function call to find the movement whose coordinate angle is closest to <code>mainAngle</code>.</p>

                    <p><code class="desc desc-code7" data-line="39">Line 39</code> creates the variable <code>currAngle</code> and sets it to the result of calculating the angle for the coordinates of the current possible point, using the <code>findAngle</code> function with the <code>curr</code> coordinates.</p>

                    <p><code class="desc desc-code7" data-line="40">Line 40</code> creates the variable <code>initAngle</code> and sets it to the result of calculating the angle for the coordinates of either the first possible or closest point, using the <code>findAngle</code> function with the <code>init</code> coordinates.</p>

                    <p><code class="desc desc-code7" data-line="42">Line 42</code> compares the differences between <code>currAngle</code> and <code>initAngle</code>, returning the movement whose coordinate angle is closer to the <code>mainAngle</code> value.</p>

                    <p><code class="desc desc-code7" data-line="45">Line 45</code> checks whether the <code>newPoint</code> coordinates are equal to the <code>end</code> coordinates, returning the <code>line</code> array with <code>newPoint</code> added since the line is now completed.</p>

                    <p><code class="desc desc-code7" data-line="46">Line 46</code> continues the line by adding a new object to <code>linePoints</code> with the <code>point</code> property pointing to <code>newPoint</code>, as well as the <code>line</code> property containing the <code>line</code> array with the current <code>newPoint</code> object added to the end.</p>

                    <p><code class="desc desc-code7" data-line="50">Line 50</code> defines the <code>line</code> function that receives <code>pos</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code7" data-line="51">Line 51</code> defines the <code>drawLine</code> function that receives <code>endpoint</code> as the parameter.</p>

                    <p><code class="desc desc-code7" data-line="52">Line 52</code> creates the <code>drawn</code> variable and sets it to an array combining the current <code>pos</code> and <code>color</code> values along with the return value from calling the <code>findLine</code> function with the current <code>pos</code>, <code>endpoint</code>, and <code>state.color</code> values.</p>

                    <p><code class="desc desc-code7" data-line="53">Line 53</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is set to the result of calling the <code>draw</code> method from <code>state.picture</code> with the <code>drawn</code> array.</p>

                    <p><code class="desc desc-code7" data-line="55">Line 55</code> calls the <code>drawLine</code> function with the <code>pos</code> object.</p>

                    <p><code class="desc desc-code7" data-line="56">Line 56</code> returns the <code>drawLine</code> function.</p>
                </div>

                <div class="exercise-body">
                    <h3>Author's Answer</h3>

                    <pre id="code8" class="line-numbers linkable-line-numbers language-javascript" tabindex="0" data-line="0"><code class="language-javascript">function drawLine(from, to, color) {
    let points = [];
    if (Math.abs(from.x - to.x) > Math.abs(from.y - to.y)) {
        if (from.x > to.x) [from, to] = [to, from];
        let slope = (to.y - from.y) / (to.x - from.x);
        for (let {x, y} = from; x <= to.x; x++) {
            points.push({x, y: Math.round(y), color});
            y += slope;
        }
    } else {
        if (from.y > to.y) [from, to] = [to, from];
        let slope = (to.x - from.x) / (to.y - from.y);
        for (let {x, y} = from; y <= to.y; y++) {
            points.push({x: Math.round(x), y, color});
            x += slope;
        }
    }
    return points;
}

function draw(pos, state, dispatch) {
    function connect(newPos, state) {
        let line = drawLine(pos, newPos, state.color);
        pos = newPos;
        dispatch({picture: state.picture.draw(line)});
    }
    connect(pos, state);
    return connect;
}

function line(pos, state, dispatch) {
    return end => {
        let line = drawLine(pos, end, state.color);
        dispatch({picture: state.picture.draw(line)});
    };
}                   </code></pre>
                </div>

                <div class="exercise-body exercise-desc">
                    <p><code class="desc desc-code8" data-line="1">Line 1</code> defines the <code>drawLine</code> function that receives <code>from</code>, <code>to</code>, and <code>color</code> as parameters.</p>

                    <p><code class="desc desc-code8" data-line="2">Line 2</code> initializes <code>points</code> to an empty array.</p>

                    <p><code class="desc desc-code8" data-line="3">Line 3</code> checks whether the <code>x</code> coordinates from <code>from</code> and <code>to</code> are further apart than the <code>y</code> coordinates.</p>

                    <p>If true, <code class="desc desc-code8" data-line="4">Line 4</code> checks whether the <code>from</code> <code>x</code> property is greater than the <code>to</code> <code>x</code> property, exchanging the <code>from</code> and <code>to</code> objects if true.</p>

                    <p><code class="desc desc-code8" data-line="5">Line 5</code> assigns the variable <code>slope</code> to the calculated slope of the line between <code>to</code> and <code>from</code>, dividing the difference between the y and x coordinates.</p>

                    <p><code class="desc desc-code8" data-line="6">Line 6</code> uses a for loop to iterate from the <code>x</code> property of <code>from</code> to the <code>x</code> property of <code>to</code>.</p>

                    <p><code class="desc desc-code8" data-line="7">Line 7</code> adds an object containing the current <code>x</code>, rounded <code>y</code>, and <code>color</code> values to the end of the <code>points</code> array.</p>

                    <p><code class="desc desc-code8" data-line="8">Line 8</code> increases <code>y</code> by the <code>slope</code> value.</p>

                    <p>Else, <code class="desc desc-code8" data-line="11">Line 11</code> checks whether the <code>from</code> <code>y</code> property is greater than the <code>to</code> <code>y</code> property, exchanging the <code>from</code> and <code>to</code> objects if true.</p>

                    <p><code class="desc desc-code8" data-line="12">Line 12</code> assigns the variable <code>slope</code> to the calculated slope of the line between <code>to</code> and <code>from</code>, dividing the difference between the x and y coordinates.</p>

                    <p><code class="desc desc-code8" data-line="13">Line 13</code> uses a for loop to iterate from the <code>y</code> property of <code>from</code> to the <code>y</code> property of <code>to</code>.</p>

                    <p><code class="desc desc-code8" data-line="14">Line 14</code> adds an object containing the rounded <code>x</code>, current <code>y</code>, and <code>color</code> values to the end of the <code>points</code> array.</p>

                    <p><code class="desc desc-code8" data-line="15">Line 15</code> increases <code>x</code> by the <code>slope</code> value.</p>

                    <p><code class="desc desc-code8" data-line="18">Line 18</code> returns the <code>points</code> array.</p>

                    <p><code class="desc desc-code8" data-line="21">Line 21</code> defines the <code>draw</code> function that receives <code>pos</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code8" data-line="22">Line 22</code> defines the <code>connect</code> function that receives <code>newPos</code> and <code>state</code> objects as parameters.</p>

                    <p><code class="desc desc-code8" data-line="23">Line 23</code> creates the <code>line</code> variable and sets it to the array returned from calling the <code>drawLine</code> function with the current <code>pos</code>, <code>newPos</code>, and <code>state.color</code> values.</p>

                    <p><code class="desc desc-code8" data-line="24">Line 24</code> updates <code>pos</code> to the <code>newPos</code> object from the parameter.</p>
                    
                    <p><code class="desc desc-code8" data-line="25">Line 25</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is set to the result of calling the <code>draw</code> method from <code>state.picture</code> with the <code>line</code> array.</p>

                    <p><code class="desc desc-code8" data-line="27">Line 27</code> calls the <code>connect</code> function with the <code>pos</code> and <code>states</code> objects.</p>

                    <p><code class="desc desc-code8" data-line="28">Line 28</code> returns the <code>connect</code> function.</p>

                    <p><code class="desc desc-code8" data-line="31">Line 31</code> defines the <code>line</code> function that receives <code>pos</code>, <code>state</code>, and <code>dispatch</code> as parameters.</p>

                    <p><code class="desc desc-code8" data-line="32">Line 32</code> returns an arrow function.</p>

                    <p><code class="desc desc-code8" data-line="33">Line 33</code> creates the <code>line</code> variable and sets it to the array returned from calling the <code>drawLine</code> function with the current <code>pos</code>, <code>end</code>, and <code>state.color</code> values.</p>

                    <p><code class="desc desc-code8" data-line="34">Line 34</code> calls the <code>dispatch</code> function with an object whose <code>picture</code> property is set to the result of calling the <code>draw</code> method from <code>state.picture</code> with the <code>line</code> array.</p>
                </div>

                <button class="exercise-body exercise-close">â‡®</button>
            </section>

        </article>

        <article class="container-navbar">

            <section>

                <h3>3rd Edition</h3>

                <nav>
                    <ul>
                        <li><a href="../index.html" alt="Intro Link" title="Intro">Intro</a></li>
                        <li><a href="../chap1/index.html" alt="Chapter 1 Link" title="Chapter 1">Chapter 1 (Part 1: Language)</a></li>
                        <li><a href="../chap2/index.html" alt="Chapter 2 Link" title="Chapter 2">Chapter 2</a></li>
                        <li><a href="../chap3/index.html" alt="Chapter 3 Link" title="Chapter 3">Chapter 3</a></li>
                        <li><a href="../chap4/index.html" alt="Chapter 4 Link" title="Chapter 4">Chapter 4</a></li>
                        <li><a href="../chap5/index.html" alt="Chapter 5 Link" title="Chapter 5">Chapter 5</a></li>
                        <li><a href="../chap6/index.html" alt="Chapter 6 Link" title="Chapter 6">Chapter 6</a></li>
                        <li><a href="../chap7/index.html" alt="Chapter 7 Link" title="Chapter 7">Chapter 7</a></li>
                        <li><a href="../chap8/index.html" alt="Chapter 8 Link" title="Chapter 8">Chapter 8</a></li>
                        <li><a href="../chap9/index.html" alt="Chapter 9 Link" title="Chapter 9">Chapter 9</a></li>
                        <li><a href="../chap10/index.html" alt="Chapter 10 Link" title="Chapter 10">Chapter 10</a></li>
                    </ul>
                    <ul>
                        <li><a href="../chap11/index.html" alt="Chapter 11 Link" title="Chapter 11">Chapter 11</a></li>
                        <li><a href="../chap12/index.html" alt="Chapter 12 Link" title="Chapter 12">Chapter 12</a></li>
                        <li><a href="../chap13/index.html" alt="Chapter 13 Link" title="Chapter 13">Chapter 13 (Part 2: Browser)</a></li>
                        <li><a href="../chap14/index.html" alt="Chapter 14 Link" title="Chapter 14">Chapter 14</a></li>
                        <li><a href="../chap15/index.html" alt="Chapter 15 Link" title="Chapter 15">Chapter 15</a></li>
                        <li><a href="../chap16/index.html" alt="Chapter 16 Link" title="Chapter 16">Chapter 16</a></li>
                        <li><a href="../chap17/index.html" alt="Chapter 17 Link" title="Chapter 17">Chapter 17</a></li>
                        <li><a href="../chap18/index.html" alt="Chapter 18 Link" title="Chapter 18">Chapter 18</a></li>
                        <li><a href="../chap19/index.html" alt="Chapter 19 Link" title="Chapter 19">Chapter 19</a></li>
                        <li><a href="../chap20/index.html" alt="Chapter 20 Link" title="Chapter 20">Chapter 20 (Part 3: Node)</a></li>
                        <li><a href="../chap21/index.html" alt="Chapter 21 Link" title="Chapter 21">Chapter 21</a></li>
                    </ul>
                </nav>

            </section>

        </article>

    </main>

    <script src="../script.js"></script>
    <script src="../assets/js/prism.js"></script>

</body>

</html>